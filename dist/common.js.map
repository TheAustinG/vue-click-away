{"version":3,"file":"common.js","sources":["../index.js"],"sourcesContent":["const clickEventType = document.ontouchstart !== null ? \"click\" : \"touchstart\";\r\n\r\nconst UNIQUE_ID = \"__vue_click_away__\";\r\n\r\nconst onMounted = (el, binding, vnode) => {\r\n  onUnmounted(el);\r\n\r\n  let vm = vnode.context;\r\n  let callback = binding.value;\r\n\r\n  let nextTick = false;\r\n  setTimeout(function () {\r\n    nextTick = true;\r\n  }, 0);\r\n\r\n  el[UNIQUE_ID] = (event) => {\r\n    if (\r\n      (!el || !el.contains(event.target)) &&\r\n      callback &&\r\n      nextTick &&\r\n      typeof callback === \"function\"\r\n    ) {\r\n      return callback.call(vm, event);\r\n    }\r\n  };\r\n\r\n  document.addEventListener(clickEventType, el[UNIQUE_ID], false);\r\n};\r\n\r\nconst onUnmounted = (el) => {\r\n  document.removeEventListener(clickEventType, el[UNIQUE_ID], false);\r\n  delete el[UNIQUE_ID];\r\n};\r\n\r\nconst onUpdated = (el, binding, vnode) => {\r\n  onMounted(el, binding, vnode);\r\n};\r\n\r\nconst plugin = {\r\n  install: (app) => {\r\n    app.directive('click-away', directive)\r\n  }\r\n}\r\n\r\nconst directive = {\r\n  mounted: onMounted,\r\n  updated: onUpdated,\r\n  unmounted: onUnmounted,\r\n};\r\n\r\nconst mixin = {\r\n  directives: { ClickAway: directive },\r\n};\r\n\r\nexport {\r\n  directive,\r\n  mixin\r\n}\r\n\r\nexport default plugin;\r\n"],"names":["clickEventType","document","ontouchstart","UNIQUE_ID","onMounted","el","binding","vnode","onUnmounted","vm","context","callback","value","nextTick","setTimeout","event","contains","target","call","addEventListener","removeEventListener","onUpdated","plugin","install","app","directive","mounted","updated","unmounted","mixin","directives","ClickAway"],"mappings":";;;;AAAA,MAAMA,cAAc,GAAGC,QAAQ,CAACC,YAAT,KAA0B,IAA1B,GAAiC,OAAjC,GAA2C,YAAlE;AAEA,MAAMC,SAAS,GAAG,oBAAlB;;AAEA,MAAMC,SAAS,GAAG,UAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;AACxCC,EAAAA,WAAW,CAACH,EAAD,CAAX;AAEA,MAAII,EAAE,GAAGF,KAAK,CAACG,OAAf;AACA,MAAIC,QAAQ,GAAGL,OAAO,CAACM,KAAvB;AAEA,MAAIC,QAAQ,GAAG,KAAf;AACAC,EAAAA,UAAU,CAAC,YAAY;AACrBD,IAAAA,QAAQ,GAAG,IAAX;AACD,GAFS,EAEP,CAFO,CAAV;;AAIAR,EAAAA,EAAE,CAACF,SAAD,CAAF,GAAgB,UAACY,KAAD,EAAW;AACzB,QACE,CAAC,CAACV,EAAD,IAAO,CAACA,EAAE,CAACW,QAAH,CAAYD,KAAK,CAACE,MAAlB,CAAT,KACAN,QADA,IAEAE,QAFA,IAGA,OAAOF,QAAP,KAAoB,UAJtB,EAKE;AACA,aAAOA,QAAQ,CAACO,IAAT,CAAcT,EAAd,EAAkBM,KAAlB,CAAP;AACD;AACF,GATD;;AAWAd,EAAAA,QAAQ,CAACkB,gBAAT,CAA0BnB,cAA1B,EAA0CK,EAAE,CAACF,SAAD,CAA5C,EAAyD,KAAzD;AACD,CAvBD;;AAyBA,MAAMK,WAAW,GAAG,UAACH,EAAD,EAAQ;AAC1BJ,EAAAA,QAAQ,CAACmB,mBAAT,CAA6BpB,cAA7B,EAA6CK,EAAE,CAACF,SAAD,CAA/C,EAA4D,KAA5D;AACA,SAAOE,EAAE,CAACF,SAAD,CAAT;AACD,CAHD;;AAKA,MAAMkB,SAAS,GAAG,UAAChB,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;AACxCH,EAAAA,SAAS,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAT;AACD,CAFD;;MAIMe,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,UAACC,GAAD,EAAS;AAChBA,IAAAA,GAAG,CAACC,SAAJ,CAAc,YAAd,EAA4BA,SAA5B;AACD;AAHY;MAMTA,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAEtB,SADO;AAEhBuB,EAAAA,OAAO,EAAEN,SAFO;AAGhBO,EAAAA,SAAS,EAAEpB;AAHK;MAMZqB,KAAK,GAAG;AACZC,EAAAA,UAAU,EAAE;AAAEC,IAAAA,SAAS,EAAEN;AAAb;AADA;;;;;;"}